# @vladmandic/pigallery  

Version: **3.8.0**  
Description: **PiGallery: AI-powered Self-hosted Secure Multi-user Image Gallery and Detailed Image analysis using Machine Learning, EXIF Parsing and Geo Tagging**  

Author: **Vladimir Mandic <mandic00@live.com>**  
License: **MIT** </LICENSE>  
Repository: **<git+https://github.com/vladmandic/pigallery.git>**  

## Changelog

### **HEAD -> master** 2021/11/15 mandic00@live.com


### **origin/master** 2021/11/08 mandic00@live.com


### **3.7.9** 2021/11/08 mandic00@live.com


### **3.7.8** 2021/10/25 mandic00@live.com

- remove package-lock.json
- add default sessions folder
- fix db init

### **3.7.7** 2021/10/01 mandic00@live.com

- critical issue with database download
- improve type checking
- add mongodb backend
- add support for mongodb backend
- added nedb to mongodb migration script
- enable large database
- fix scrolling of process log
- enable uniform support in latest tfjs
- merge pull request #8 from trissiethehusky/master
- merge pull request #7 from trissiethehusky/master

### **3.7.6** 2021/07/29 mandic00@live.com

- optimize gallery loading

### **3.7.5** 2021/06/17 mandic00@live.com

- implement db backup

### **3.7.4** 2021/06/16 mandic00@live.com


### **3.7.3** 2021/06/08 mandic00@live.com


### **3.7.2** 2021/06/01 mandic00@live.com

- fix css import order
- configurable download chunk sizes
- enable caching

### **3.7.1** 2021/05/16 mandic00@live.com

- optimize name handling
- add names enumeration and search
- start on names recognition
- prototype web components
- cleanup dead code

### **3.6.5** 2021/05/09 mandic00@live.com

- faster zooming
- profiling optimizations
- add download progress
- added synonym match in search

### **3.6.4** 2021/05/06 mandic00@live.com

- fix multi-word search
- scoped run

### **release: 3.6.3** 2021/05/01 mandic00@live.com

- upadate human and tfjs libraries

### **3.6.3** 2021/04/30 mandic00@live.com

- add temp db to gitignore
- fix map and search for shares

### **3.6.2** 2021/04/23 mandic00@live.com

- improve map search sensitivity
- remove all global variables
- typescript conversion complete
- refactoring index and details for typescript
- additional typescript refactoring
- typescript conversion for process
- refactor shared modules
- add score filter on image display

### **3.6.1** 2021/04/22 mandic00@live.com

- initial client typescript conversion
- enable caching by default
- pwa full offline mode
- lighthouse optimizations
- webhint optimizations
- speed up enumerations
- split indexdb for massive performance gains
- improve dominant colors
- mobile layout optimizations
- modernized video
- modernize compare
- scroll snap
- starting 3.6.0 release

### **3.5.4** 2021/04/17 mandic00@live.com

- redo perception hashing
- optimize list handling
- new ui

### **3.5.3** 2021/04/10 mandic00@live.com

- improved search

### **3.5.2** 2021/04/06 mandic00@live.com

- cleanup messages
- improve indexdb indexing
- fix background db refresh
- redo server download pagination

### **3.5.1** 2021/04/05 mandic00@live.com

- new css bundling

### **3.4.10** 2021/04/04 mandic00@live.com

- strict webhint rules
- fix share creation

### **3.4.9** 2021/03/23 mandic00@live.com

- added score filter

### **3.4.8** 2021/03/22 mandic00@live.com

- fix location search

### **3.4.7** 2021/03/22 mandic00@live.com

- new person matching
- add hires option

### **3.4.6** 2021/03/21 mandic00@live.com

- enhance face details

### **3.4.5** 2021/03/21 mandic00@live.com

- increased server limits
- hires human processing
- recursive people search

### **3.4.4** 2021/03/21 mandic00@live.com


### **3.4.3** 2021/03/20 mandic00@live.com

- remove tsconfig
- create codeql-analysis.yml

### **3.4.2** 2021/03/14 mandic00@live.com

- added architecture notes

### **3.4.1** 2021/03/09 mandic00@live.com

- fix model names upgrade tfjs & esbuild

### **3.3.7** 2021/03/04 mandic00@live.com


### **3.3.6** 2021/03/03 mandic00@live.com

- change default config
- modify changelog generation
- added human gestures
- fix video panzoom

### **3.3.5** 2021/03/02 mandic00@live.com

- stricter eslint rules
- markdown cleanup
- details view formatting

### **3.3.4** 2021/03/02 mandic00@live.com

- redesign full models

### **3.3.3** 2021/03/01 mandic00@live.com


### **3.3.2** 2021/02/28 mandic00@live.com

- add wasm backend option
- better zoom

### **3.3.1** 2021/02/26 mandic00@live.com

- refactoring

### **3.2.1** 2021/02/25 mandic00@live.com


### **3.1.4** 2021/02/25 mandic00@live.com

- fix processing theme
- pwa fix

### **3.1.3** 2021/02/24 mandic00@live.com

- fix video module
- viewer fix
- video fix
- perception matching

### **3.1.2** 2021/02/23 mandic00@live.com

- fix folder selection
- redo image viewer
- fix autoreload
- fix uri encoding
- changed human config
- enable auto reload

### **3.1.1** 2021/02/21 mandic00@live.com

- error logging
- switch from faceapi to human
- process logging
- exception handling for nudenet

### **3.0.7** 2021/02/20 mandic00@live.com

- remove minification

### **3.0.6** 2021/02/20 mandic00@live.com

- nudenet labels
- error logging
- setup exception handling

### **3.0.5** 2021/02/19 mandic00@live.com

- improve logging
- server error logging

### **3.0.4** 2021/02/18 mandic00@live.com

- added file exclude, exception handling

### **3.0.3** 2021/02/17 mandic00@live.com


### **3.0.2** 2021/02/16 mandic00@live.com

- fixed object detection

### **3.0.1** 2021/02/16 mandic00@live.com

- move modules config

### **2.2.9** 2021/02/06 mandic00@live.com


### **release: 2.1** 2021/01/29 mandic00@live.com


### **2.2.8** 2021/01/29 mandic00@live.com


### **2.2.7** 2021/01/22 mandic00@live.com

- enable build optimizations

### **2.2.6** 2021/01/03 mandic00@live.com


### **2.2.5** 2020/12/15 mandic00@live.com

- reenable faceapi
- merge pull request #3 from vladmandic/dependabot/npm_and_yarn/ini-1.3.8
- bump ini from 1.3.5 to 1.3.8

### **2.2.4** 2020/12/12 mandic00@live.com

- package update

### **2.2.3** 2020/11/25 mandic00@live.com

- fix chrome 87 compatibility
- remove tf from assets
- video optimizations
- webgl tuning
- implemented object detection
- added all image classifications
- working on processing
- processing fixes
- fix processing
- remaing import cleanups
- fix firefox compatibility issues
- webgl memory optimizations
- working nudenet model
- work on models
- working on model processing update
- work on object detection
- refactored for es2020
- cleanup

### **2.2.2** 2020/10/22 mandic00@live.com

- reduces bundle dependencies
- implemented paged fetch
- pwa caching
- mobile optimizations
- rebuild

### **2.2.1** 2020/10/20 mandic00@live.com

- work on video modules
- work on video module
- work on video player
- redo video moduls

### **2.1.9** 2020/10/14 mandic00@live.com


### **2.1.8** 2020/10/12 mandic00@live.com

- switch from piface to human library

### **2.1.7** 2020/10/10 mandic00@live.com

- switched video to piface
- switched to esnext imports
- tfjs 2.6.0
- added iris model
- implemented piface
- disabled css scroll-snap due to chrome bug
- sequentialized processing to avoid memory isseus
- webgl canvas prototype
- video improved startup sequence

### **2.1.6** 2020/09/28 mandic00@live.com

- added inaturalist models to video
- cleaning up
- added faceapi to video
- video iframe
- iframe support

### **2.1.5** 2020/09/26 mandic00@live.com

- refactoring complete
- moved processing to separate page

### **2.1.4** 2020/09/26 mandic00@live.com

- bugfix watcher
- refactoring
- database updates

### **2.1.3** 2020/09/19 mandic00@live.com

- bug fixes
- testing different models
- reduced dependencies
- added search limit and search by tag
- switch to passive event listeners

### **2.1.2** 2020/09/16 cyan00@gmail.com

- improved logging
- reduced number of imports
- upgrade to tfjs@2.4.0

### **2.1.1** 2020/09/16 cyan00@gmail.com

- package.name
- playing with efficientdet
- video detection improvements
- improved search
- uploaded samples
- custom pwa installation event
- workaround for firefox getcapabilities bug
- implemented processing resume
- process continue
- changelog

### **2.0.9** 2020/09/10 cyan00@gmail.com

- rebuild
- added samples
- playing with efficientdet models

### **2.0.8** 2020/09/09 cyan00@gmail.com

- added several keras models to compare

### **2.0.7** 2020/09/07 cyan00@gmail.com

- major work on livevideo function

### **2.0.6** 2020/09/06 cyan00@gmail.com

- corrected model caching
- optimized serviceworker
- added models caching
- various optimizations
- build and load stats
- added build stats
- added samples

### **2.0.5** 2020/09/01 cyan00@gmail.com

- optimizations
- switch to face-api cjs
- font fix
- full rebuild

### **2.0.4** 2020/08/30 cyan00@gmail.com

- removed utils
- implemented cleancss css merging
- optimize live video
- cleaned up docs and compare module
- simplified dependencies
- optimized module loading

### **2.0.3** 2020/08/29 cyan00@gmail.com

- moved processing and video to spa
- tweaking video processing
- video interface
- new live video module
- optimized shares management

### **release: 2.0.2** 2020/08/28 cyan00@gmail.com


### **2.0.2** 2020/08/28 cyan00@gmail.com

- removed radix
- smudge
- smudge users
- added config.json
- simplification
- experimenting with food and places365 models
- added tfjs precompiled assets
- models refactoring
- split active and inactive models
- reduced dependencies
- client reload fix

### **2.0.1** 2020/08/24 cyan00@gmail.com

- switch to tfjs@2.3.0
- tinkering with openimages model
- ip lookup fix
- shares loading progress fix
- tinkering with places365 converted model
- tinkering with tfjs@2.3.0 vs tfjs@1.7.4
- tinkering with tfjs 2.30

### **1.3.2** 2020/08/20 cyan00@gmail.com

- major logging refactoring
- cleanup
- added nsfw model

### **1.3.1** 2020/08/19 cyan00@gmail.com

- simplified dependencies
- improved logging
- added asset-manifest
- build optimization

### **1.2.5** 2020/08/18 cyan00@gmail.com

- tinkering with tfjs@2.3.0 vs tfjs@1.7.4
- removed shrink-ray
- import branched face-api
- preparing for tfjs 2.0 upgrade
- improved location scanning
- added taglines
- added transparency effect

### **1.2.4** 2020/08/16 cyan00@gmail.com

- added swipe and color palette
- webgl background
- new html head
- added asset-manifest.json
- assets path fix
- removed

### **1.2.3** 2020/08/13 cyan00@gmail.com

- touch optimizations

### **1.2.2** 2020/08/11 cyan00@gmail.com

- caching optimizations
- fix

### **1.2.1** 2020/08/09 cyan00@gmail.com

- touch optimizations
- server metadata
- reduced logging
- added dummy endpoint
- uri simplification

### **1.1.13** 2020/08/01 cyan00@gmail.com

- lighthouse optimizations
- visual fixes

### **1.1.12** 2020/07/29 cyan00@gmail.com

- added style lining

### **1.1.11** 2020/07/29 cyan00@gmail.com

- busy fix
- cosmetic fixes

### **1.1.10** 2020/07/28 cyan00@gmail.com

- typo
- fixed permissions
- changelog

### **1.1.9** 2020/07/28 cyan00@gmail.com

- visual tweaks
- cosmetic tweaks
- splash screen
- added loader
- changelog

### **1.1.8** 2020/07/26 cyan00@gmail.com

- theme animations

### **1.1.7** 2020/07/25 cyan00@gmail.com

- delete
- added themes

### **1.1.5** 2020/07/23 cyan00@gmail.com

- ui improvements
- fixed slow loading artifacts

### **1.1.4** 2020/07/22 cyan00@gmail.com


### **1.1.3** 2020/07/21 cyan00@gmail.com

- find images with simmilar classes
- version bumb

### **1.1.2** 2020/07/16 cyan00@gmail.com


### **1.1.1** 2020/07/16 cyan00@gmail.com

- implemented user configuration

### **1.0.10** 2020/07/15 cyan00@gmail.com

- increased server limits
- changelog

### **1.0.9** 2020/07/09 cyan00@gmail.com

- secured share urls
- secured share access

### **1.0.8** 2020/07/08 cyan00@gmail.com

- logging update
- first pass of sharing feature
- package version update

### **1.0.7** 2020/07/06 cyan00@gmail.com

- adding lineawesome

### **1.0.6** 2020/07/04 cyan00@gmail.com

- navigation improvements
- enhanced error handling during processing
- modified service worker

### **1.0.5** 2020/07/03 cyan00@gmail.com

- parallel processing

### **1.0.4** 2020/07/02 cyan00@gmail.com

- redone logging
- implemented person simmilarity

### **1.0.3** 2020/07/01 cyan00@gmail.com

- prototype face compare
- print additional details

### **1.0.2** 2020/06/30 cyan00@gmail.com

- db refresh since last update
- major release

### **1.0.1** 2020/06/30 cyan00@gmail.com

- css formatting
- implemented multi-engine processing
- tuning models

### **0.9.15** 2020/06/28 cyan00@gmail.com

- model tuning
- started on inaturalist models

### **0.9.14** 2020/06/27 cyan00@gmail.com

- remapped http serve
- expanding video use cases

### **0.9.13** 2020/06/24 cyan00@gmail.com

- optimized for piproxy
- fixed map layout

### **0.9.12** 2020/06/24 cyan00@gmail.com

- fixed service worker

### **0.9.11** 2020/06/24 cyan00@gmail.com

- video detect with selectable options

### **0.9.10** 2020/06/23 cyan00@gmail.com

- swtiched to esbuild and implemented file watcher
- file enum fix
- mobile navigation optimizations
- adding hash to url to monitor hashchange

### **0.9.9** 2020/06/22 cyan00@gmail.com

- added auto-generated changelog
- implemented gallery infinite scroll

### **0.9.8** 2020/06/21 cyan00@gmail.com

- gallery load optimizations
- moved long processing to web worker

### **0.9.7** 2020/06/20 cyan00@gmail.com

- changed default look
- initial work on web workers
- indexdb optimizations

### **0.9.6** 2020/06/20 cyan00@gmail.com

- added image map interface

### **0.9.5** 2020/06/19 cyan00@gmail.com

- implemented indexdb for client-side caching
- auto-restart on hung processing
- added auto-restart on stuck processing
- added mapquest

### **0.9.4** 2020/06/17 cyan00@gmail.com

- ctime and mtime compare

### **0.9.3** 2020/06/17 cyan00@gmail.com

- added inception v4 and deepdetect 6k models
- initial map work
- implemented brotli compression
- processing logging
- error handling
- switched video detection to openimages
- fixed labels

### **0.9.2** 2020/06/15 cyan00@gmail.com

- added larger openimages detection engine
- read stream exception handling
- enhanced metadata processing
- fix exif gps to location
- gps location fix
- lint corrections

### **0.9.1** 2020/06/14 cyan00@gmail.com

- enhanced metadata processing
- added internal profiler

### **0.8.5** 2020/06/13 cyan00@gmail.com

- optimized gallery bulk load
- auto restart processing on error

### **0.8.4** 2020/06/09 cyan00@gmail.com

- added multiple models
- added model compare
- refactored for es202

### **0.8.3** 2020/06/06 cyan00@gmail.com

- right click intercept
- video processing bugfix
- optimized simmilarity checks

### **0.8.2** 2020/05/31 cyan00@gmail.com

- fixed phash sorting
- increaasing image limit

### **0.8.1** 2020/05/30 cyan00@gmail.com

- implemented simmilarity based on perception hash
- improvements to responsive design
- top classes reimplementation

### **0.7.4** 2020/05/29 cyan00@gmail.com

- bugfixes
- fix time/date parsing
- refectored details view

### **0.7.3** 2020/05/29 cyan00@gmail.com

- added location and classes views
- implemented slideshow

### **0.7.2** 2020/05/28 cyan00@gmail.com

- bugfixes
- fix folder list update during load
- improved loading

### **0.7.1** 2020/05/28 cyan00@gmail.com

- async loading of large image set

### **0.6.4** 2020/05/27 cyan00@gmail.com

- converted to png
- added examples

### **0.6.3** 2020/05/26 cyan00@gmail.com

- fixed redirect on logout
- optimized large image loading
- simplified menus

### **0.6.2** 2020/05/25 cyan00@gmail.com

- optimized video processing

### **0.6.1** 2020/05/25 cyan00@gmail.com

- documented keyboard shortcuts
- css fixes

### **0.5.4** 2020/05/24 cyan00@gmail.com

- implemented image pan&zoom

### **0.5.3** 2020/05/24 cyan00@gmail.com

- user-configurable image list size
- formatting fixes
- pwa disabled by default

### **0.5.2** 2020/05/23 cyan00@gmail.com

- pwa enabled
- added gif and png processing
- bugfixes
- deleted dist
- persistent user config
- pwa caching

### **0.5.1** 2020/05/22 cyan00@gmail.com

- implemented pwa mode
- added in-app docs

### **0.4.2** 2020/05/22 cyan00@gmail.com

- added nedb data store
- parametrized gallery options
- formatting fixes
- live video enhancements
- responsive design
- renamed repository

### **0.4.1** 2020/05/21 cyan00@gmail.com

- merge branch 'master'
- merge branch 'master' of https://github.com/vladmandic/pigallery
- markdown linter
- git smudge
- locations moved server-side

### **0.3.2** 2020/05/20 cyan00@gmail.com

- bugfixes

### **0.3.1** 2020/05/20 cyan00@gmail.com

- major update
- per-user configuration

### **0.2.7** 2020/05/19 cyan00@gmail.com

- improved gallery view
- added folder view
- error handling in processing
- fixed live video

### **0.2.6** 2020/05/18 cyan00@gmail.com

- implemented user authentication

### **0.2.5** 2020/05/18 cyan00@gmail.com

- improved scrolling
- resizable thumbnails
- multi-face detection

### **0.2.4** 2020/05/17 cyan00@gmail.com

- added alternative classification

### **0.2.3** 2020/05/16 cyan00@gmail.com

- added file hashing using sha256

### **0.2.2** 2020/05/16 cyan00@gmail.com

- implemented gallery view
- search improvements

### **0.2.1** 2020/05/15 cyan00@gmail.com

- major work
- post to server

### **0.1.3** 2020/05/14 cyan00@gmail.com

- implemented resultset filtering
- optimizations

### **0.1.2** 2020/05/13 cyan00@gmail.com

- implemented real-time video processing
- included screenshots

### **0.1.1** 2020/05/12 cyan00@gmail.com

- comitted dist
- refactored to separate server and client code
- refactoring

### **0.0.10** 2020/05/12 cyan00@gmail.com

- exif and geodata
- added exif parsing

### **0.0.9** 2020/05/11 cyan00@gmail.com

- tuning

### **0.0.8** 2020/05/11 cyan00@gmail.com


### **0.0.7** 2020/05/10 cyan00@gmail.com


### **0.0.6** 2020/05/09 cyan00@gmail.com


### **0.0.5** 2020/05/07 cyan00@gmail.com

- cleaned up dependencies
- batch processing

### **0.0.4** 2020/05/07 cyan00@gmail.com

- implemented server-side

### **0.0.3** 2020/05/06 cyan00@gmail.com

- stable models
- enabled all models
- switched from native browser to npm with parceljs
- major changes
- error handling
- implemented yolo and mobilenet
- initial commit
